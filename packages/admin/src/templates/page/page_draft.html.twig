
<div id="draftWrapper" class="form-group" style="margin-top:10px">
<label for="draft" style="font-weight:400">
<input type="checkbox" id="draft" class="minimal" {{ draft ? 'checked' : '' }}>
<i>Brouillon</i></label>
</div>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const draftCheckbox = document.getElementById('draft');
    if (draftCheckbox) {
        draftCheckbox.addEventListener('change', toggleDraft);
    }
});


function toggleDraft() {
    const inputDate = document.querySelector('[data-selector="publishedAtToDraft"]');
    if (!inputDate) {
        return;
    }
    let currentDate = new Date(inputDate.value);

    const draft = document.getElementById('draft');
    const isChecked = draft && draft.checked;

    if (isChecked) {
        currentDate.setFullYear(currentDate.getFullYear() + 10);
    } else {
        currentDate = new Date();
    }

    const formattedDate = currentDate.toISOString().slice(0, 16).replace('T', ' ');
    inputDate.value = formattedDate;
}
</script>
