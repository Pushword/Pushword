
{% set currentValue = entity.instance.weight ?? 0 %}
{% set entityId = entity.instance.id %}
{% set target = 'pw-weight-' ~ entityId %}
{% set action = url('pushword_conversation_inline_update', {id: entityId}) %}
{% set token = csrf_token('conversation_inline_' ~ entityId) %}

<div id="{{ target }}" class="pw-weight-input d-inline-flex align-items-center">
    <input
        type="number"
        name="weight"
        value="{{ currentValue }}"
        class="form-control form-control-sm text-center bg-transparent border-0"
        style="width: 5rem;"
        min="-9999"
        max="9999"
        step="1"
        hx-post="{{ action }}"
        hx-trigger="change, blur"
        hx-target="#{{ target }}"
        hx-swap="outerHTML"
        hx-vals='js:{field: "weight", value: event.target.value, _token: "{{ token|e('js') }}"}'
        title="{{ 'admin.conversation.weight.help'|trans }}"
    >
</div>
